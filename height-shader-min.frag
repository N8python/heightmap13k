#version 300 es
precision highp float;layout(location=0) out vec4 pc_FragColor;in vec2 vPosition;vec3 v(vec3 v){return mod((v*34.+1.)*v,289.);}float t(vec2 m){const vec4 n=vec4(.211324865405187,.366025403784439,-.577350269189626,.024390243902439);vec2 x=floor(m+dot(m,n.yy)),y=m-x+dot(x,n.xx),r;r=y.x>y.y?vec2(1,0):vec2(0,1);vec4 d=y.xyxy+n.xxzz;d.xy-=r;x=mod(x,289.);vec3 z=v(v(x.y+vec3(0,r.y,1))+x.x+vec3(0,r.x,1)),a=max(.5-vec3(dot(y,y),dot(d.xy,d.xy),dot(d.zw,d.zw)),0.);a*=a;a*=a;vec3 f=2.*fract(z*n.www)-1.,p=abs(f)-.5,c=f-floor(f+.5);a*=1.79284291400159-.85373472095314*(c*c+p*p);vec3 w;w.x=c.x*y.x+p.x*y.y;w.yz=c.yz*d.xz+p.yz*d.yw;return 130.*dot(a,w);}
#define NUM_OCTAVES 8
float m(vec2 v){float x=0.,m=.5;vec2 p=vec2(100);mat2 a=mat2(cos(.5),sin(.5),-sin(.5),cos(.5));for(int y=0;y<NUM_OCTAVES;++y)x+=m*t(v),v=a*v*2.+p,m*=.5;return x;}void main(){float v=m(vPosition*2.5),x=m(vec2(-vPosition.x,vPosition.y)*2.5),d=m(vec2(vPosition.x,-vPosition.y)*2.5),y=m(vec2(-vPosition.x,-vPosition.y)*2.5),r=.5*pow(abs(vPosition.x),10.);pc_FragColor=vec4(vec3(.5+.5*mix(mix(v,x,r),mix(d,y,r),.5*pow(abs(vPosition.y),10.))),1);}